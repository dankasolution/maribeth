<!doctype html>
<html ng-app="maribethApp">
<head>
	<title>User Profile</title>
	<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/site.css" />
	
	<script src="/static/js/angular/angular.js"></script>
	<script src="/static/js/angular/angular-resource.js"></script>
	<script src="/static/js/angular/angular-route.js"></script>
</head>
<body ng-controller="appController">
    <header class="bar basecolor">
        <img src="../images/maribeth-logo.png" />
    </header>
    <div class="lighterbasecolor">
        <div class="centrewrapper content contentbasecolor">    
            <div ng-include="mgrheader"></div>
            <div ng-controller="profileCtrl">
               
                <!-- <div class="inlinenavigation">
                    <a href="/">Home</a>
                </div> -->
                
                <!-- <h4>Crew: {{user[0].profile[0].firstname}}, id: {{user[0]._id}}</h4> -->                
                <form class="form-horizontal" method="POST" action="/user/update">
                    <fieldset>
                        <legend>Personal Details</legend>
                        <input type="text" name="crewid" id="crewid" ng-model="user[0]._id" style="height: 0px;padding:0px;border:none;">
                            
                        <div class="control-group">
                            <label class="control-label" for="firstname">Firstname</label>
                            <div class="controls">
                                <input type="text" name="firstname" ng-model="user[0].profile[0].firstname">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="lastname">Lastname</label>
                            <div class="controls">
                                <input type="text" name="lastname" ng-model="user[0].profile[0].lastname">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="role">Role</label>
                            <div class="controls">
                                <input type="text" name="role" ng-model="user[0].profile[0].role" disabled>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="street">Street</label>
                            <div class="controls">
                                <input type="text" name="street" ng-model="user[0].profile[0].address[0].street">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="city">City</label>
                            <div class="controls">
                                <input type="text" name="city" ng-model="user[0].profile[0].address[0].city">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="state">State</label>
                            <div class="controls">
                                <input type="text" name="state" ng-model="user[0].profile[0].address[0].state">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="postcode">Postcode</label>
                            <div class="controls">
                                <input type="text" name="postcode" ng-model="user[0].profile[0].address[0].postcode">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="email">Email</label>
                            <div class="controls">
                                <input type="email" name="email" ng-model="user[0].profile[0].email">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="phone">Phone</label>
                            <div class="controls">
                                <input type="text" name="phone" ng-model="user[0].profile[0].phone">
                            </div>
                        </div>                              
                    </fieldset>
                    <br />
                    <fieldset ng-show="user[0].profile[0].role=='Manager'">
                        <div>
                            <legend>Company Details</legend>
                            <div class="control-group">
                                <label class="control-label" for="company">Company Name</label>
                                <div class="controls">
                                    <input type="text" name="companyname" ng-model="user[0].company[0].name">
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="street">Street</label>
                                <div class="controls">
                                    <input type="text" name="companystreet" ng-model="user[0].company[0].address[0].street">
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="city">City</label>
                                <div class="controls">
                                    <input type="text" name="companycity" ng-model="user[0].company[0].address[0].city">
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="state">State</label>
                                <div class="controls">
                                    <input type="text" name="companystate" ng-model="user[0].company[0].address[0].state">
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="state">Postcode</label>
                                <div class="controls">
                                    <input type="text" name="companypostcode" ng-model="user[0].company[0].address[0].postcode">
                                </div>
                            </div>
                        </div>                
                    </fieldset>
                    <fieldset>
                        <div class="control-group">
                            <label class="control-label">&nbsp;</label>
                            <div class="controls">
                                <input type="submit" value="Save">
                            </div>
                        </div>
                    </fieldset>
                    <br />
                </form> 
            </div>
        </div>
    </div>
<!-- 
	<hr><%= msg %>
	<hr>{{error}} -->
	<script src="/static/js/app/maribeth_app.js"></script>
	<script src="/static/js/app/profileCtrl.js"></script>
		
</body>
</html>